{"version":3,"sources":["../../../../modules/@angular/compiler/src/parse_util.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AACH,OAAO,KAAK,KAAA,MAAA,SAAA,CAAA;AACZ,OAAO,EAAA,SAAE,EAAS,MAAA,eAAA,CAAA;AAClB;IACA;;;;;OAKG;IACH,uBAJa,IAAM,EAAwB,MAAQ,EAAe,IAAM,EAC3D,GAAK;QADL,SAAA,GAAA,IAAA,CAAM;QAAwB,WAAA,GAAA,MAAA,CAAQ;QAAe,SAAA,GAAA,IAAA,CAAM;QAC3D,QAAA,GAAA,GAAA,CAAK;IAAO,CAAA;IAQzB;;OAEG;IACH,gCATG,GASH;QACI,MAAM,CATC,SAAA,CAAU,IAAC,CAAI,MAAC,CAAM,GAAG,IAAI,CAAI,IAAC,CAAI,GAAC,SAAG,IAAI,CAAI,IAAC,SAAI,IAAI,CAAI,GAAI,GAAI,IAAA,CAAK,IAAC,CAAI,GAAC,CAAG;IAU9F,CAAC;IACH;;;OAGG;IACH,8BAZG,GAYH,UAZG,KAAA;QAaC,IAAM,gBAAgB,CAZhB,MAAA,GAAS,IAAA,CAAK,IAAC,CAAI,OAAC,CAAO;QAajC,IAAM,gBAAgB,CAZhB,GAAA,GAAM,MAAA,CAAO,MAAC,CAAM;QAa1B,IAAI,gBAAgB,CAZhB,MAAA,GAAS,IAAA,CAAK,MAAC,CAAM;QAazB,IAAI,gBAAgB,CAZhB,IAAA,GAAO,IAAA,CAAK,IAAC,CAAI;QAarB,IAAI,gBAAgB,CAZhB,GAAA,GAAM,IAAA,CAAK,GAAC,CAAG;QAanB,OAAO,MAZC,GAAQ,CAAA,IAAK,KAAA,GAAQ,CAAA,EAAG,CAAA;YAa9B,MAAM,EAZC,CAAE;YAaT,KAAK,EAZC,CAAE;YAaR,IAAM,gBAAgB,CAZhB,EAAA,GAAK,MAAA,CAAO,UAAC,CAAU,MAAC,CAAM,CAAC;YAarC,EAAE,CAAC,CAAC,EAZC,IAAK,KAAA,CAAM,GAAC,CAAG,CAAC,CAAA;gBAanB,IAAI,EAZC,CAAE;gBAaP,IAAM,gBAAgB,CAZhB,SAAA,GAAY,MAAA,CAAO,MAAC,CAAM,CAAC,EAAE,MAAA,GAAS,CAAA,CAAE,CAAC,WAAC,CAAW,MAAC,CAAM,YAAC,CAAY,KAAC,CAAK,GAAC,CAAG,CAAC,CAAC;gBAa3F,GAAG,GAZG,SAAA,GAAY,CAAA,GAAI,MAAA,GAAS,SAAA,GAAY,MAAA,CAAO;YAapD,CAAC;YAZC,IAAA,CAAK,CAAA;gBAaL,GAAG,EAZC,CAAE;YAaR,CAAC;QACH,CAAC;QACD,OAAO,MAZC,GAAQ,GAAA,IAAO,KAAA,GAAQ,CAAA,EAAG,CAAA;YAahC,IAAM,gBAAgB,CAZhB,EAAA,GAAK,MAAA,CAAO,UAAC,CAAU,MAAC,CAAM,CAAC;YAarC,MAAM,EAZC,CAAE;YAaT,KAAK,EAZC,CAAE;YAaR,EAAE,CAAC,CAAC,EAZC,IAAK,KAAA,CAAM,GAAC,CAAG,CAAC,CAAA;gBAanB,IAAI,EAZC,CAAE;gBAaP,GAAG,GAZG,CAAA,CAAE;YAaV,CAAC;YAZC,IAAA,CAAK,CAAA;gBAaL,GAAG,EAZC,CAAE;YAaR,CAAC;QACH,CAAC;QACD,MAAM,CAZC,IAAI,aAAA,CAAc,IAAC,CAAI,IAAC,EAAK,MAAA,EAAQ,IAAA,EAAM,GAAA,CAAI,CAAC;IAazD,CAAC;IACH;;;;OAIG;IACH,kCAdG,GAcH,UAdG,QAAA,EAAA,QAAA;QAeC,IAAM,gBAAgB,CAdhB,OAAA,GAAU,IAAA,CAAK,IAAC,CAAI,OAAC,CAAO;QAelC,IAAI,gBAAgB,CAdhB,WAAA,GAAc,IAAA,CAAK,MAAC,CAAM;QAgB9B,EAAE,CAAC,CAAC,SAdC,CAAS,WAAC,CAAW,CAAC,CAAC,CAAA;YAe1B,EAAE,CAAC,CAAC,WAdC,GAAa,OAAA,CAAQ,MAAC,GAAQ,CAAA,CAAE,CAAC,CAAA;gBAepC,WAAW,GAdG,OAAA,CAAQ,MAAC,GAAQ,CAAA,CAAE;YAenC,CAAC;YACD,IAAI,gBAAgB,CAdhB,SAAA,GAAY,WAAA,CAAY;YAe5B,IAAI,gBAAgB,CAdhB,QAAA,GAAW,CAAA,CAAE;YAejB,IAAI,gBAAgB,CAdhB,QAAA,GAAW,CAAA,CAAE;YAgBjB,OAAO,QAdC,GAAU,QAAA,IAAY,WAAA,GAAc,CAAA,EAAG,CAAA;gBAe7C,WAAW,EAdC,CAAE;gBAed,QAAQ,EAdC,CAAE;gBAeX,EAAE,CAAC,CAAC,OAdC,CAAO,WAAC,CAAW,IAAI,IAAA,CAAK,CAAC,CAAA;oBAehC,EAAE,CAAC,CAAC,EAdC,QAAE,IAAW,QAAA,CAAS,CAAC,CAAA;wBAe1B,KAAK,CAAC;oBACR,CAAC;gBACH,CAAC;YACH,CAAC;YAED,QAAQ,GAdG,CAAA,CAAE;YAeb,QAAQ,GAdG,CAAA,CAAE;YAeb,OAAO,QAdC,GAAU,QAAA,IAAY,SAAA,GAAY,OAAA,CAAQ,MAAC,GAAQ,CAAA,EAAG,CAAA;gBAe5D,SAAS,EAdC,CAAE;gBAeZ,QAAQ,EAdC,CAAE;gBAeX,EAAE,CAAC,CAAC,OAdC,CAAO,SAAC,CAAS,IAAI,IAAA,CAAK,CAAC,CAAA;oBAe9B,EAAE,CAAC,CAAC,EAdC,QAAE,IAAW,QAAA,CAAS,CAAC,CAAA;wBAe1B,KAAK,CAAC;oBACR,CAAC;gBACH,CAAC;YACH,CAAC;YAED,MAAM,CAdC;gBAeL,MAAM,EAdE,OAAA,CAAQ,SAAC,CAAS,WAAC,EAAY,IAAA,CAAK,MAAC,CAAM;gBAenD,KAAK,EAdE,OAAA,CAAQ,SAAC,CAAS,IAAC,CAAI,MAAC,EAAO,SAAA,GAAY,CAAA,CAAE;aAerD,CAdC;QAeJ,CAAC;QAED,MAAM,CAdC,IAAA,CAAK;IAed,CAAC;IACH,oBAAC;AAAD,CApGA,AAoGC,IAAA;;AAED;IACA,gBAAgB;IAChB,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC;IAC7B,gBAAgB;IAChB,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC;IAC/B,gBAAgB;IAChB,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC;IAC7B,gBAAgB;IAChB,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC;AAC5B,CAAC;AAED;IACA;;;OAGG;IACH,yBA7BqB,OAAS,EAAe,GAAK;QAA7B,YAAA,GAAA,OAAA,CAAS;QAAe,QAAA,GAAA,GAAA,CAAK;IAAO,CAAA;IA+BzD,sBAAC;AAAD,CAPA,AAOC,IAAA;;AAED;IACA,gBAAgB;IAChB,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC;IAClC,gBAAgB;IAChB,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;AAC9B,CAAC;AAED;IACA;;;;OAIG;IACH,yBAzCa,KAAO,EAAsB,GAAK,EAAsB,OAAkB;QAAlB,wBAAA,EAAA,cAAkB;QAA1E,UAAA,GAAA,KAAA,CAAO;QAAsB,QAAA,GAAA,GAAA,CAAK;QAAsB,YAAA,GAAA,OAAA,CAAkB;IAAK,CAAA;IA6C5F;;OAEG;IACH,kCA9CG,GA8CH;QACI,MAAM,CA9CC,IAAA,CAAK,KAAC,CAAK,IAAC,CAAI,OAAC,CAAO,SAAC,CAAS,IAAC,CAAI,KAAC,CAAK,MAAC,EAAO,IAAA,CAAK,GAAC,CAAG,MAAC,CAAM,CAAC;IA+C/E,CAAC;IACH,sBAAC;AAAD,CAhBA,AAgBC,IAAA;;AAED;IACA,gBAAgB;IAChB,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC;IAChC,gBAAgB;IAChB,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;IAC9B,gBAAgB;IAChB,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC;AAClC,CAAC;AAGD,MAAM,CAAC,IAAI,eAAe,GAAQ,EAAE,CAAC;AACrC,eAAe,CAAC,OAAO,GAAG,CAAC,CAAC;AAC5B,eAAe,CAAC,KAAK,GAAG,CAAC,CAAC;AAC1B,eAAe,CAAC,eAAe,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC;AACrD,eAAe,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC;AAEjD;IACA;;;;OAIG;IACH,oBA7Da,IAAM,EAAwB,GAAK,EACnC,KAA0C;QAA1C,sBAAA,EAAA,QAAyB,eAAA,CAAgB,KAAC;QAD1C,SAAA,GAAA,IAAA,CAAM;QAAwB,QAAA,GAAA,GAAA,CAAK;QACnC,UAAA,GAAA,KAAA,CAA0C;IAAK,CAAA;IAgE5D;;OAEG;IACH,6BAjEG,GAiEH;QACI,IAAM,gBAAgB,CAjEhB,GAAA,GAAM,IAAA,CAAK,IAAC,CAAI,KAAC,CAAK,UAAC,CAAU,GAAC,EAAI,CAAA,CAAE,CAAC;QAkE/C,IAAM,gBAAgB,CAjEhB,UAAA,GAAa,GAAA,GAAM,SAAA,GAAO,CAAG,MAAC,kBAAM,GAAa,CAAG,KAAC,QAAK,GAAM,EAAA,CAAG;QAkEzE,IAAM,gBAAgB,CAjEhB,OAAA,GAAU,IAAA,CAAK,IAAC,CAAI,OAAC,GAAS,OAAA,IAAM,CAAI,IAAC,CAAI,OAAQ,GAAI,EAAA,CAAG;QAkElE,MAAM,CAjEC,KAAA,IAAI,CAAI,GAAC,GAAG,UAAG,UAAU,IAAK,CAAI,IAAC,CAAI,KAAC,GAAK,OAAU,CAAE;IAkElE,CAAC;IACH,iBAAC;AAAD,CAnBA,AAmBC,IAAA;;AAED;IACA,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC;IAC1B,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC;IACzB,gBAAgB;IAChB,UAAU,CAAC,SAAS,CAAC,KAAK,CAAC;AAC3B,CAAC","file":"parse_util.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport * as chars from './chars';\nimport {isPresent} from './facade/lang';\nexport class ParseLocation {\n/**\n * @param {?} file\n * @param {?} offset\n * @param {?} line\n * @param {?} col\n */\nconstructor(\npublic file: ParseSourceFile,\npublic offset: number,\npublic line: number,\npublic col: number) {}\n/**\n * @return {?}\n */\ntoString(): string {\n    return isPresent(this.offset) ? `${this.file.url}@${this.line}:${this.col}` : this.file.url;\n  }\n/**\n * @param {?} delta\n * @return {?}\n */\nmoveBy(delta: number): ParseLocation {\n    const /** @type {?} */ source = this.file.content;\n    const /** @type {?} */ len = source.length;\n    let /** @type {?} */ offset = this.offset;\n    let /** @type {?} */ line = this.line;\n    let /** @type {?} */ col = this.col;\n    while (offset > 0 && delta < 0) {\n      offset--;\n      delta++;\n      const /** @type {?} */ ch = source.charCodeAt(offset);\n      if (ch == chars.$LF) {\n        line--;\n        const /** @type {?} */ priorLine = source.substr(0, offset - 1).lastIndexOf(String.fromCharCode(chars.$LF));\n        col = priorLine > 0 ? offset - priorLine : offset;\n      } else {\n        col--;\n      }\n    }\n    while (offset < len && delta > 0) {\n      const /** @type {?} */ ch = source.charCodeAt(offset);\n      offset++;\n      delta--;\n      if (ch == chars.$LF) {\n        line++;\n        col = 0;\n      } else {\n        col++;\n      }\n    }\n    return new ParseLocation(this.file, offset, line, col);\n  }\n/**\n * @param {?} maxChars\n * @param {?} maxLines\n * @return {?}\n */\ngetContext(maxChars: number, maxLines: number): {before: string, after: string} {\n    const /** @type {?} */ content = this.file.content;\n    let /** @type {?} */ startOffset = this.offset;\n\n    if (isPresent(startOffset)) {\n      if (startOffset > content.length - 1) {\n        startOffset = content.length - 1;\n      }\n      let /** @type {?} */ endOffset = startOffset;\n      let /** @type {?} */ ctxChars = 0;\n      let /** @type {?} */ ctxLines = 0;\n\n      while (ctxChars < maxChars && startOffset > 0) {\n        startOffset--;\n        ctxChars++;\n        if (content[startOffset] == '\\n') {\n          if (++ctxLines == maxLines) {\n            break;\n          }\n        }\n      }\n\n      ctxChars = 0;\n      ctxLines = 0;\n      while (ctxChars < maxChars && endOffset < content.length - 1) {\n        endOffset++;\n        ctxChars++;\n        if (content[endOffset] == '\\n') {\n          if (++ctxLines == maxLines) {\n            break;\n          }\n        }\n      }\n\n      return {\n        before: content.substring(startOffset, this.offset),\n        after: content.substring(this.offset, endOffset + 1),\n      };\n    }\n\n    return null;\n  }\n}\n\nfunction ParseLocation_tsickle_Closure_declarations() {\n/** @type {?} */\nParseLocation.prototype.file;\n/** @type {?} */\nParseLocation.prototype.offset;\n/** @type {?} */\nParseLocation.prototype.line;\n/** @type {?} */\nParseLocation.prototype.col;\n}\n\nexport class ParseSourceFile {\n/**\n * @param {?} content\n * @param {?} url\n */\nconstructor(public content: string,\npublic url: string) {}\n}\n\nfunction ParseSourceFile_tsickle_Closure_declarations() {\n/** @type {?} */\nParseSourceFile.prototype.content;\n/** @type {?} */\nParseSourceFile.prototype.url;\n}\n\nexport class ParseSourceSpan {\n/**\n * @param {?} start\n * @param {?} end\n * @param {?=} details\n */\nconstructor(\npublic start: ParseLocation,\npublic end: ParseLocation,\npublic details: string = null) {}\n/**\n * @return {?}\n */\ntoString(): string {\n    return this.start.file.content.substring(this.start.offset, this.end.offset);\n  }\n}\n\nfunction ParseSourceSpan_tsickle_Closure_declarations() {\n/** @type {?} */\nParseSourceSpan.prototype.start;\n/** @type {?} */\nParseSourceSpan.prototype.end;\n/** @type {?} */\nParseSourceSpan.prototype.details;\n}\n\nexport type ParseErrorLevel = number;\nexport let ParseErrorLevel: any = {};\nParseErrorLevel.WARNING = 0;\nParseErrorLevel.FATAL = 1;\nParseErrorLevel[ParseErrorLevel.WARNING] = \"WARNING\";\nParseErrorLevel[ParseErrorLevel.FATAL] = \"FATAL\";\n\nexport class ParseError {\n/**\n * @param {?} span\n * @param {?} msg\n * @param {?=} level\n */\nconstructor(\npublic span: ParseSourceSpan,\npublic msg: string,\npublic level: ParseErrorLevel = ParseErrorLevel.FATAL) {}\n/**\n * @return {?}\n */\ntoString(): string {\n    const /** @type {?} */ ctx = this.span.start.getContext(100, 3);\n    const /** @type {?} */ contextStr = ctx ? ` (\"${ctx.before}[ERROR ->]${ctx.after}\")` : '';\n    const /** @type {?} */ details = this.span.details ? `, ${this.span.details}` : '';\n    return `${this.msg}${contextStr}: ${this.span.start}${details}`;\n  }\n}\n\nfunction ParseError_tsickle_Closure_declarations() {\n/** @type {?} */\nParseError.prototype.span;\n/** @type {?} */\nParseError.prototype.msg;\n/** @type {?} */\nParseError.prototype.level;\n}\n\n"]}