{"version":3,"sources":["../../../../modules/@angular/compiler/src/style_url_resolver.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAMH;IACA;;;OAGG;IACH,0BAHqB,KAAO,EAAe,SAAkB;QAAxC,UAAA,GAAA,KAAA,CAAO;QAAe,cAAA,GAAA,SAAA,CAAkB;IAAE,CAAA;IAK/D,uBAAC;AAAD,CAPA,AAOC,IAAA;;AAED;IACA,gBAAgB;IAChB,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC;IACjC,gBAAgB;IAChB,gBAAgB,CAAC,SAAS,CAAC,SAAS,CAAC;AACrC,CAAC;AAED;;;GAGG;AACH,MAfC,+BAAA,GAAA;IAgBC,EAAE,CAAC,CAAC,GAfC,IAAM,IAAA,IAAQ,GAAA,CAAI,MAAC,KAAU,CAAA,IAAK,GAAA,CAAI,CAAC,CAAC,IAAI,GAAA,CAAI;QAAC,MAAA,CAAO,KAAA,CAAM;IAgBnE,IAAM,gBAAgB,CAfhB,WAAA,GAAc,GAAA,CAAI,KAAC,CAAK,sBAAC,CAAsB,CAAC;IAgBtD,MAAM,CAfC,WAAA,KAAgB,IAAA,IAAQ,WAAA,CAAY,CAAC,CAAC,IAAI,SAAA,IAAa,WAAA,CAAY,CAAC,CAAC,IAAI,OAAA,CAAQ;AAgB1F,CAAC;AACD;;;;;;;GAOG;AACH,MAlBC,2BAmBG,QAAqB,EAAE,OAAe,EAAE,OAAe;IACzD,IAAM,gBAAgB,CAlBhB,SAAA,GAAsB,EAAA,CAAG;IAoB/B,IAAM,gBAAgB,CAlBhB,eAAA,GAmBF,OAAO,CAlBC,OAAC,CAAO,kBAAC,EAAmB,EAAA,CAAG,CAAC,OAAC,CAAO,iBAAC,EAAkB;QAAA,WAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,sBAAc;;QAmB/E,IAAM,gBAAgB,CAlBhB,GAAA,GAAM,CAAA,CAAE,CAAC,CAAC,IAAI,CAAA,CAAE,CAAC,CAAC,CAAC;QAmBzB,EAAE,CAAC,CAAC,CAlBC,oBAAC,CAAoB,GAAC,CAAG,CAAC,CAAC,CAAA;YAmB9B,sEAAsE;YACtE,MAAM,CAlBC,CAAA,CAAE,CAAC,CAAC,CAAC;QAmBd,CAAC;QACD,SAAS,CAlBC,IAAC,CAAI,QAAC,CAAQ,OAAC,CAAO,OAAC,EAAQ,GAAA,CAAI,CAAC,CAAC;QAmB/C,MAAM,CAlBC,EAAA,CAAG;IAmBZ,CAAC,CAlBC,CAAC;IAmBP,MAAM,CAlBC,IAAI,gBAAA,CAAiB,eAAC,EAAgB,SAAA,CAAU,CAAC;AAmB1D,CAAC;AAED,IAAM,gBAAgB,CAlBhB,iBAAA,GAAoB,iEAAA,CAAkE;AAmB5F,IAAM,gBAAgB,CAlBhB,kBAAA,GAAqB,cAAA,CAAe;AAmB1C,IAAM,gBAAgB,CAlBhB,sBAAA,GAAyB,cAAA,CAAe","file":"style_url_resolver.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// Some of the code comes from WebComponents.JS\n// https://github.com/webcomponents/webcomponentsjs/blob/master/src/HTMLImports/path.js\n\nimport {UrlResolver} from './url_resolver';\nexport class StyleWithImports {\n/**\n * @param {?} style\n * @param {?} styleUrls\n */\nconstructor(public style: string,\npublic styleUrls: string[]) {}\n}\n\nfunction StyleWithImports_tsickle_Closure_declarations() {\n/** @type {?} */\nStyleWithImports.prototype.style;\n/** @type {?} */\nStyleWithImports.prototype.styleUrls;\n}\n\n/**\n * @param {?} url\n * @return {?}\n */\nexport function isStyleUrlResolvable(url: string): boolean {\n  if (url == null || url.length === 0 || url[0] == '/') return false;\n  const /** @type {?} */ schemeMatch = url.match(URL_WITH_SCHEMA_REGEXP);\n  return schemeMatch === null || schemeMatch[1] == 'package' || schemeMatch[1] == 'asset';\n}\n/**\n * Rewrites stylesheets by resolving and removing the \\@import urls that\n * are either relative or don't have a `package:` scheme\n * @param {?} resolver\n * @param {?} baseUrl\n * @param {?} cssText\n * @return {?}\n */\nexport function extractStyleUrls(\n    resolver: UrlResolver, baseUrl: string, cssText: string): StyleWithImports {\n  const /** @type {?} */ foundUrls: string[] = [];\n\n  const /** @type {?} */ modifiedCssText =\n      cssText.replace(CSS_COMMENT_REGEXP, '').replace(CSS_IMPORT_REGEXP, (...m: string[]) => {\n        const /** @type {?} */ url = m[1] || m[2];\n        if (!isStyleUrlResolvable(url)) {\n          // Do not attempt to resolve non-package absolute URLs with URI scheme\n          return m[0];\n        }\n        foundUrls.push(resolver.resolve(baseUrl, url));\n        return '';\n      });\n  return new StyleWithImports(modifiedCssText, foundUrls);\n}\n\nconst /** @type {?} */ CSS_IMPORT_REGEXP = /@import\\s+(?:url\\()?\\s*(?:(?:['\"]([^'\"]*))|([^;\\)\\s]*))[^;]*;?/g;\nconst /** @type {?} */ CSS_COMMENT_REGEXP = /\\/\\*.+?\\*\\//g;\nconst /** @type {?} */ URL_WITH_SCHEMA_REGEXP = /^([^:/?#]+):/;\n"]}