{"version":3,"sources":["../../../../modules/@angular/compiler/src/directive_wrapper_compiler.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;;;;;;;;;;AAEH,OAAO,EAA+E,mBAAA,EAAqB,mBAAA,EAAqB,cAAA,EAAe,MAAA,oBAAA,CAAA;AAC/I,OAAO,EAAA,uBAAE,EAAwB,gBAAA,EAAiB,MAAA,8BAAA,CAAA;AAClD,OAAO,EAAA,gBAAE,EAAiB,oBAAA,EAAsB,4BAAA,EAA6B,MAAA,sCAAA,CAAA;AAC7E,OAAO,EAAA,gCAAE,EAAiC,4BAAA,EAA6B,MAAA,6BAAA,CAAA;AACvE,OAAO,EAAA,cAAE,EAAc,MAAA,UAAA,CAAA;AACvB,OAAO,EAAA,MAAE,EAAM,MAAA,4BAAA,CAAA;AACf,OAAO,EAAA,WAAE,EAAY,gBAAA,EAAiB,MAAA,eAAA,CAAA;AACtC,OAAO,EAAA,kBAAE,EAAkB,MAAA,cAAA,CAAA;AAC3B,OAAO,EAAA,4BAAE,EAA4B,MAAA,kCAAA,CAAA;AACrC,OAAO,EAAe,eAAA,EAAgB,MAAA,wBAAA,CAAA;AACtC,OAAO,KAAK,CAAA,MAAA,qBAAA,CAAA;AACZ,OAAO,EAAa,eAAA,EAAiB,aAAA,EAAe,eAAA,EAAiB,eAAA,EAAgB,MAAA,cAAA,CAAA;AACrF,OAAO,EAAA,OAAE,EAAQ,cAAA,EAAe,MAAA,uBAAA,CAAA;AAChC,OAAO,EAAA,qBAAE,EAAqB,MAAA,kCAAA,CAAA;AAC9B,OAAO,EAAA,aAAE,EAAa,MAAA,kCAAA,CAAA;AAEtB;IACA;;;OAGG;IACH,uCAHqB,UAAwB,EAAU,kBAAoB;QAAtD,eAAA,GAAA,UAAA,CAAwB;QAAU,uBAAA,GAAA,kBAAA,CAAoB;IAAO,CAAA;IAKlF,oCAAC;AAAD,CAPA,AAOC,IAAA;;AAED;IACA,gBAAgB;IAChB,6BAA6B,CAAC,SAAS,CAAC,UAAU,CAAC;IACnD,gBAAgB;IAChB,6BAA6B,CAAC,SAAS,CAAC,kBAAkB,CAAC;AAC3D,CAAC;AAGD,IAAM,gBAAgB,CAZhB,kBAAA,GAAqB,SAAA,CAAU;AAarC,IAAM,gBAAgB,CAZhB,kBAAA,GAAqB,UAAA,CAAW;AAatC,IAAM,gBAAgB,CAZhB,kBAAA,GAAqB,UAAA,CAAW;AAatC,IAAM,gBAAgB,CAZhB,wBAAA,GAA2B,eAAA,CAAgB;AAcjD,IAAM,gBAAgB,CAZhB,UAAA,GAAa,CAAA,CAAE,QAAC,CAAQ,QAAC,CAAQ,CAAC;AAaxC,IAAM,gBAAgB,CAZhB,cAAA,GAAiB,CAAA,CAAE,QAAC,CAAQ,WAAC,CAAW,CAAC;AAa/C,IAAM,gBAAgB,CAZhB,gBAAA,GAAmB,CAAA,CAAE,QAAC,CAAQ,aAAC,CAAa,CAAC;AAanD,IAAM,gBAAgB,CAZhB,QAAA,GAAW,CAAA,CAAE,QAAC,CAAQ,MAAC,CAAM,CAAC;AAapC,IAAM,gBAAgB,CAZhB,kBAAA,GAAqB,CAAA,CAAE,QAAC,CAAQ,eAAC,CAAe,CAAC;AAavD,IAAM,gBAAgB,CAZhB,aAAA,GAAgB,CAAA,CAAE,QAAC,CAAQ,IAAC,CAAI,CAAC;AAavC,IAAM,gBAAgB,CAZhB,cAAA,GAAiB,CAAA,CAAE,QAAC,CAAQ,WAAC,CAAW,CAAC;AAc/C,IAAM,gBAAgB,CAZhB,kBAAA,GAAqB,CAAA,CAAE,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,GAAC,CAAG,CAAC,CAAC,UAAC,CAAU,EAAC,CAAE,CAAC,CAAC,MAAC,EAAM,CAAE;AAa/F;;;;;;;GAOG;AAEH,IAAa,wBAAwB;IACrC;;;;;OAKG;IACH,kCAhBc,cAAgB,EAAwB,WAAa,EACrD,eAAiB,EAA+B,QAAU;QAD1D,mBAAA,GAAA,cAAA,CAAgB;QAAwB,gBAAA,GAAA,WAAA,CAAa;QACrD,oBAAA,GAAA,eAAA,CAAiB;QAA+B,aAAA,GAAA,QAAA,CAAU;IAAQ,CAAA;IAoBhF;;;OAGG;IACH,0CAtBG,GAsBH,UAtBG,OAAA;QAuBC,IAAM,gBAAgB,CAtBhB,eAAA,GAAkB,iBAAA,CAAkB,OAAC,EAAQ,IAAA,CAAK,WAAC,EAAY,IAAA,CAAK,eAAC,CAAe,CAAC;QAuB3F,iBAAiB,CAtBC,eAAC,CAAe,MAAC,EAAO,IAAA,CAAK,QAAC,CAAQ,CAAC;QAwBzD,IAAM,gBAAgB,CAtBhB,OAAA,GAAU,IAAI,uBAAA,CAAwB,IAAC,CAAI,cAAC,EAAe,OAAA,CAAQ,CAAC;QAuB1E,MAAM,CAtBC,IAAC,CAAI,OAAC,CAAO,MAAC,CAAM,CAAC,OAAC,CAAO,UAAC,cAAC;YAuBpC,mBAAmB,CAtBC,cAAC,EAAe,OAAA,CAAQ,CAAC;QAuB/C,CAAC,CAtBC,CAAC;QAuBH,kBAAkB,CAtBC,OAAC,CAAO,CAAC;QAuB5B,kBAAkB,CAtBC,eAAC,CAAe,SAAC,EAAU,eAAA,CAAgB,aAAC,EAAc,OAAA,CAAQ,CAAC;QAuBtF,oBAAoB,CAtBC,eAAC,CAAe,aAAC,EAAc,OAAA,CAAQ,CAAC;QAuB7D,kBAAkB,CAtBC,OAAC,EAAQ,OAAA,CAAQ,CAAC;QAwBrC,IAAM,gBAAgB,CAtBhB,SAAA,GAAY,OAAA,CAAQ,KAAC,EAAK,CAAE;QAuBlC,MAAM,CAtBC,IAAI,6BAAA,CAA8B,CAAC,SAAC,CAAS,EAAE,SAAA,CAAU,IAAC,CAAI,CAAC;IAuBxE,CAAC;IACH,+BAAC;AAAD,CAhCA,AAgCC,IAAA;AAhCY,wBAAwB;IAZpC,kBAAA,EAAA;qCAG6B,cAAA;QAAqC,MAAA;QACpC,qBAAA;QAAyC,OAAA;GAQ3D,wBAAwB,CAgCpC;SAhCY,wBAAwB;AAkCrC;IACA,gBAAgB;IAChB,wBAAwB,CAAC,SAAS,CAAC,cAAc,CAAC;IAClD,gBAAgB;IAChB,wBAAwB,CAAC,SAAS,CAAC,WAAW,CAAC;IAC/C,gBAAgB;IAChB,wBAAwB,CAAC,SAAS,CAAC,eAAe,CAAC;IACnD,gBAAgB;IAChB,wBAAwB,CAAC,SAAS,CAAC,QAAQ,CAAC;AAC5C,CAAC;AAED;IAaA;;;OAGG;IACH,iCApCqB,cAAgB,EAAuB,OAAS;QAAhD,mBAAA,GAAA,cAAA,CAAgB;QAAuB,YAAA,GAAA,OAAA,CAAS;QAoBnE,WAAM,GAjCmB,EAAA,CAAG;QAkC5B,YAAO,GAjCoB,EAAA,CAAG;QAkC9B,YAAO,GAjCoB,EAAA,CAAG;QAkC9B,cAAS,GAjCkB,EAAA,CAAG;QAkC9B,gBAAW,GAjCkB,EAAA,CAAG;QAkChC,iBAAY,GAjCkB,EAAA,CAAG;QA8C/B,IAAM,iBAAiB,GAAG,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;QACtD,IAAI,CAAC,UAAU,GAAG,iBAAiB,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACxE,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC;QACzC,IAAI,CAAC,WAAW,GAAG,iBAAiB,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9E,IAAI,CAAC,QAAQ,GAAG,iBAAiB,CAAC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,WAAW,GAAG,iBAAiB,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9E,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,YAAY,CAAC,IAAI,CAClB,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,UAAU,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;QACnF,CAAC;IACH,CAAC;IACH;;OAEG;IACH,uCAvCG,GAuCH;QACI,IAAM,gBAAgB,CAvChB,gBAAA,GAA6B,EAAA,CAAG;QAwCtC,GAAG,CAAC,CAAC,IAvCC,gBAAA,CAAG,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,IAAA,CAAK,OAAC,CAAO,IAAC,CAAI,MAAC,CAAM,MAAC,EAAO,CAAA,EAAE,EAAG,CAAA;YAwCxD,gBAAgB,CAvCC,IAAC,CAAI,MAAC,CAAK,CAAE,CAAC;QAwCjC,CAAC;QAED,IAAM,gBAAgB,CAvChB,OAAA,GAAU;YAwCd,IAvCI,CAAA,CAAE,WAAC,CAwCH,YAAY,EACZ;gBACE,IAvCI,CAAA,CAAE,OAAC,CAwCH,QAAQ,CAvCC,IAAC,EAwCV,CAAC,CAvCC,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,OAAC,CAAO,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,CAAC,CAAC;gBAwC1E,IAvCI,CAAA,CAAE,OAAC,CAwCH,kBAAkB,CAvCC,IAAC,EAwCpB,CAAC,CAvCC,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,OAAC,CAAO,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,CAAC,CAAC;gBAwC1E,IAvCI,CAAA,CAAE,OAAC,CAAO,aAAC,CAAa,IAAC,EAAK,CAAA,CAAE,YAAC,CAAY;aAwClD,EACD,IAAI,CAvCC,WAAC,CAAW;YAwCrB,IAvCI,CAAA,CAAE,WAAC,CAAW,aAAC,EAAc,EAAA,EAAI,IAAA,CAAK,YAAC,CAAY;SAwCxD,CAvCC;QAyCF,IAAM,gBAAgB,CAvChB,MAAA,GAAyB;YAwC7B,IAvCI,CAAA,CAAE,UAAC,CAAU,wBAAC,EAAyB,CAAA,CAAE,aAAC,EAAc,CAAA,CAAE,CAAC,YAAC,CAAY,OAAC,CAAO,CAAC;YAwCrF,IAvCI,CAAA,CAAE,UAAC,CAAU,kBAAC,EAAmB,CAAA,CAAE,UAAC,CAAU,IAAC,CAAI,OAAC,CAAO,IAAC,CAAI,CAAC;YAwCrE,IAvCI,CAAA,CAAE,UAAC,CAAU,kBAAC,EAAmB,CAAA,CAAE,SAAC,EAAU,CAAA,CAAE,CAAC,YAAC,CAAY,OAAC,CAAO,CAAC;SAwC5E,CAvCC;QAwCF,IAAM,gBAAgB,CAvChB,SAAA,GAA2B;YAwC/B,CAAC,CAvCC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,GAAC,CAAG,CAAC,CAAC,OAAC,CAAO,KAAC,CAAK,CAAC,CAAC,MAAC,EAAM;SAwCnE,CAvCC;QAwCF,EAAE,CAAC,CAAC,IAvCC,CAAI,UAAC,CAAU,CAAC,CAAA;YAwCnB,MAAM,CAvCC,IAAC,CAAI,IAAI,CAAA,CAAE,UAAC,CAwCf,kBAAkB,EAvCE,IAAI,CAAA,CAAE,OAAC,CAAO,CAAC,CAAC,YAAC,CAAY,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,OAAC,CAAO,CAAC,CAAC,CAAC;YAwClF,SAAS,CAvCC,IAAC,CAAI,kBAAC,CAAkB,CAAC;QAwCrC,CAAC;QAED,SAAS,CAvCC,IAAC,CAwCP,CAAC,CAvCC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB;aAwC/B,GAvCC,CAAG,CAAC,CAAC,UAAC,CAAU,IAAC,CAAI,OAAC,CAAO,IAAC,CAAI;aAwC1B,WAvCC,CAAW,gBAAC,CAAgB,GAAC,CAAG,UAAC,SAAC,IAAa,OAAA,CAAA,CAAE,QAAC,CAAQ,SAAC,CAAS,EAArB,CAAqB,CAAC,CAAC,CAAC;aAwCjF,MAvCC,EAAM,CAAE,CAAC;QAyCnB,MAAM,CAvCC,eAAA,CAAgB;YAwCrB,IAAI,EAvCE,mBAAA,CAAoB,IAAC,CAAI,OAAC,CAAO,IAAC,CAAI,SAAC,CAAS;YAwCtD,UAAU,EAvCE,gBAAA,CAAiB,GAAC,CAAG,UAAC,SAAC,IAAa,OAAA,IAAI,CAAA,CAAE,OAAC,CAAO,SAAC,EAAU,CAAA,CAAE,YAAC,CAAY,EAAxC,CAAwC,CAAC;YAwCzF,QAAQ,EAvCE,CAAA,EAAE,MAAC,QAAA,EAAO,SAAA,WAAA,EAAW,OAAA,SAAA,EAAQ,EAAE,IAAA,CAAK;SAwC/C,CAvCC,CAAC;IAwCL,CAAC;IACH,8BAAC;AAAD,CAlFA,AAkFC,IAAA;AAED;IACA,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,MAAM,CAAC;IACzC,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,OAAO,CAAC;IAC1C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,OAAO,CAAC;IAC1C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,SAAS,CAAC;IAC5C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,WAAW,CAAC;IAC9C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,YAAY,CAAC;IAC/C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,UAAU,CAAC;IAC7C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,WAAW,CAAC;IAC9C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,QAAQ,CAAC;IAC3C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,SAAS,CAAC;IAC5C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,WAAW,CAAC;IAC9C,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,cAAc,CAAC;IACjD,gBAAgB;IAChB,uBAAuB,CAAC,SAAS,CAAC,OAAO,CAAC;AAC1C,CAAC;AAED;;;GAGG;AACH,4BAxEC,OAAA;IAyEC,IAAM,gBAAgB,CAxEhB,UAAA,GAAa,CAAA,CAAE,QAAC,CAAQ,SAAC,CAAS,CAAC;IAyEzC,IAAM,gBAAgB,CAxEhB,KAAA,GAAuB;QAyE3B,UAAU,CAxEC,GAAC,CAAG,CAAC,CAAC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,CAAC,UAAC,EAAU;QAyEhE,CAAC,CAxEC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,GAAC,CAAG,CAAC,CAAC,OAAC,CAAO,KAAC,CAAK,CAAC,CAAC,MAAC,EAAM;KAyEnE,CAxEC;IAyEF,IAAM,gBAAgB,CAxEhB,cAAA,GAAgC,EAAA,CAAG;IA0EzC,EAAE,CAAC,CAAC,OAxEC,CAAO,UAAC,CAAU,CAAC,CAAA;QAyEtB,IAAM,gBAAgB,CAxEhB,cAAA,GAAgC,EAAA,CAAG;QAyEzC,EAAE,CAAC,CAAC,OAxEC,CAAO,WAAC,CAAW,CAAC,CAAA;YAyEvB,cAAc,CAxEC,IAAC,CAAI,CAAC,CAAC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB;iBAyE/B,UAxEC,CAAU,aAAC,EAAc,CAAA,CAAE,CAAC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,CAAC;iBAyEjE,MAxEC,EAAM,CAAE,CAAC;QAyErC,CAAC;QACD,EAAE,CAAC,CAAC,OAxEC,CAAO,cAAC,CAAc,gBAAC,CAAgB,CAAC,CAAA;YAyE3C,cAAc,CAxEC,IAAC,CAyEZ,CAAC,CAxEC,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,6BAAC,CAA6B,CAAC;iBAyEpE,MAxEC,CAyEE,CAAC,QAxEC,CAAQ,IAAC,CAAI,UAAC,CAAU,EAAE,aAAA,EAAe,CAAA,CAAE,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,CAAC;iBAyEpF,MAxEC,EAAM,CAAE,CAAC;QAyErB,CAAC;QACD,cAAc,CAxEC,IAAC,CAAI,kBAAC,CAAkB,CAAC;QAyExC,cAAc,CAxEC,IAAC,CAAI,IAAI,CAAA,CAAE,MAAC,CAAM,UAAC,EAAW,cAAA,CAAe,CAAC,CAAC;IAyEhE,CAAC;IAED,EAAE,CAAC,CAAC,OAxEC,CAAO,QAAC,CAAQ,CAAC,CAAA;QAyEpB,cAAc,CAxEC,IAAC,CAAI,IAAI,CAAA,CAAE,MAAC,CAyEvB,gBAAgB,CAxEC,QAAC,CAAQ,EAyE1B,CAAC,CAxEC,CAAC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,UAAC,CAAU,UAAC,EAAW,EAAA,CAAG,CAAC,MAAC,EAAM,CAAE,CAAC,CAAC,CAAC;IAyEnF,CAAC;IACD,EAAE,CAAC,CAAC,OAxEC,CAAO,SAAC,CAAS,CAAC,CAAA;QAyErB,cAAc,CAxEC,IAAC,CAAI,CAAC,CAAC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,UAAC,CAAU,WAAC,EAAY,EAAA,CAAG,CAAC,MAAC,EAAM,CAAE,CAAC;IAyEjG,CAAC;IACD,EAAE,CAAC,CAAC,cAxEC,CAAc,MAAC,GAAQ,CAAA,CAAE,CAAC,CAAA;QAyE7B,KAAK,CAxEC,IAAC,CAAI,IAAI,CAAA,CAAE,MAAC,CAAM,CAAC,CAAC,GAAC,CAAG,QAAC,CAAQ,IAAC,CAAI,eAAC,CAAe,CAAC,EAAE,cAAA,CAAe,CAAC,CAAC;IAyElF,CAAC;IACD,KAAK,CAxEC,IAAC,CAAI,IAAI,CAAA,CAAE,eAAC,CAAe,UAAC,CAAU,CAAC,CAAC;IA0E9C,OAAO,CAxEC,OAAC,CAAO,IAAC,CAAI,IAAI,CAAA,CAAE,WAAC,CAyExB,WAAW,EACX;QACE,IAxEI,CAAA,CAAE,OAAC,CAyEH,QAAQ,CAxEC,IAAC,EAAK,CAAA,CAAE,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,OAAC,CAAO,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,CAAC,CAAC;QAyEzF,IAxEI,CAAA,CAAE,OAAC,CAAO,aAAC,CAAa,IAAC,EAAK,CAAA,CAAE,YAAC,CAAY;KAyElD,EACD,KAAK,EAxEE,CAAA,CAAE,SAAC,CAAS,CAAC,CAAC;AAyE3B,CAAC;AACD;;;;GAIG;AACH,6BA5EC,KAAA,EAAA,OAAA;IA6EC,IAAM,gBAAgB,CA5EhB,KAAA,GAAQ,uBAAA,CAAwB,OAAC,CAAO,CAAC;IA6E/C,IAAM,gBAAgB,CA5EhB,kBAAA,GAAoC;QA6ExC,CAAC,CA5EC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,GAAC,CAAG,CAAC,CAAC,OAAC,CAAO,IAAC,CAAI,CAAC,CAAC,MAAC,EAAM;QA6EjE,CAAC,CA5EC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,IAAC,CAAI,KAAC,CAAK,CAAC,GAAC,CAAG,cAAC,CAAc,CAAC,MAAC,EAAM;QA6E5E,KAAK,CA5EC,UAAC,CAAU,GAAC,CAAG,cAAC,CAAc,CAAC,MAAC,EAAM;KA6E7C,CA5EC;IA6EF,IAAI,gBAAgB,CA5EhB,UAAwB,CAAE;IA6E9B,EAAE,CAAC,CAAC,OA5EC,CAAO,UAAC,CAAU,CAAC,CAAA;QA6EtB,kBAAkB,CA5EC,IAAC,CA6EhB,CAAC,CA5EC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,CAAC,GAAC,CAAG,CAAC,CAAC,OAAC,CAAO,KAAC,CAAK,CAAC,CAAC,GAAC,CAAG,UAAC,CAAU,CAAC,MAAC,EAAM,CAAE,CAAC;QA6EzF,UAAU,GA5EG;YA6EX,UAAU;iBACL,GA5EC,CAAG,CAAC,CAAC,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,kBAAC,CAAkB,CAAC,CAAC,MAAC,CAAM;gBA6EzE,QAAQ,EA5EE,KAAA,CAAM,UAAC,EAAW,cAAA,EAAgB,gBAAA;aA6E7C,CA5EC,CAAC;iBA6EF,UA5EC,EAAU;YA6EhB,IA5EI,CAAA,CAAE,MAAC,CAAM,UAAC,EAAW,kBAAA,CAAmB;SA6E7C,CA5EC;IA6EJ,CAAC;IA5EC,IAAA,CAAK,CAAA;QA6EL,UAAU,GA5EG,CAAA,IAAK,CAAA,CAAE,MAAC,CA6EjB,CAAC,CA5EC,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,YAAC,CAAY,CAAC,CAAC,MAAC,CAAM;gBA6E9D,QAAQ,EA5EE,KAAA,CAAM,UAAC,EAAW,cAAA,EAAgB,gBAAA;aA6E7C,CA5EC,EA6EF,kBAAkB,CA5EC,CAAC,CAAC;IA6E3B,CAAC;IAED,OAAO,CA5EC,OAAC,CAAO,IAAC,CAAI,IAAI,CAAA,CAAE,WAAC,CA6ExB,WAAS,KA5EM,EA6Ef;QACE,IA5EI,CAAA,CAAE,OAAC,CA6EH,QAAQ,CA5EC,IAAC,EAAK,CAAA,CAAE,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,OAAC,CAAO,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,CAAC,CAAC;QA6EzF,IA5EI,CAAA,CAAE,OAAC,CAAO,cAAC,CAAc,IAAC,EAAK,CAAA,CAAE,YAAC,CAAY;QA6ElD,IA5EI,CAAA,CAAE,OAAC,CAAO,gBAAC,CAAgB,IAAC,EAAK,CAAA,CAAE,SAAC,CAAS;KA6ElD,EACD,UAAU,CA5EC,CAAC,CAAC;AA6EnB,CAAC;AACD;;;;;GAKG;AACH,4BACI,SAAoC,EAAE,UAA2B,EACjE,OAAgC;IAClC,IAAM,gBAAgB,CAjFhB,KAAA,GAAuB,EAAA,CAAG;IAkFhC,IAAM,gBAAgB,CAjFhB,YAAA,GAA4B;QAkFhC,IAjFI,CAAA,CAAE,OAAC,CAkFH,QAAQ,CAjFC,IAAC,EAAK,CAAA,CAAE,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,OAAC,CAAO,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,CAAC,CAAC;QAkFzF,IAjFI,CAAA,CAAE,OAAC,CAkFH,kBAAkB,CAjFC,IAAC,EAkFpB,CAAC,CAjFC,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,OAAC,CAAO,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,CAAC,CAAC;QAkF1E,IAjFI,CAAA,CAAE,OAAC,CAAO,aAAC,CAAa,IAAC,EAAK,CAAA,CAAE,YAAC,CAAY;KAkFlD,CAjFC;IAkFF,SAAS,CAjFC,OAAC,CAAO,UAAC,QAAC,EAAS,WAAA;QAkF3B,IAAM,gBAAgB,CAjFhB,KAAA,GAAQ,uBAAA,CAAwB,OAAC,CAAO,CAAC;QAkF/C,IAAM,gBAAgB,CAjFhB,UAAA,GAAa,4BAAA,CAkFf,OAAO,EAjFE,IAAA,EAAM,CAAA,CAAE,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,EAAE,QAAA,CAAS,KAAC,EAAM,KAAA,CAAM,SAAC,CAAS,CAAC;QAkF1F,EAAE,CAAC,CAAC,CAjFC,UAAC,CAAU,CAAC,CAAA;YAkFf,MAAM,CAAC;QACT,CAAC;QACD,IAAI,gBAAgB,CAjFhB,mBAAwB,CAAW;QAkFvC,EAAE,CAAC,CAAC,QAjFC,CAAQ,2BAAC,CAA2B,CAAC,CAAA;YAkFxC,mBAAmB,GAjFG,CAAA,CAAE,QAAC,CAAQ,YAAC,YAAU,CAAY,MAAO,CAAE,CAAC;YAkFlE,YAAY,CAjFC,IAAC,CAAI,IAAI,CAAA,CAAE,OAAC,CAkFrB,mBAAmB,CAjFC,IAAC,EAAK,CAAA,CAAE,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,eAAC,CAAe,CAAC,CAAC,CAAC,CAAC;QAkF9F,CAAC;QACD,EAAE,CAAC,CAAC,QAjFC,CAAQ,WAAC,CAAW,CAAC,CAAA;YAClB,IAAA;mHAI0C,EAJ1C,sCAAE,EAAiB,sCAAA,CAIwB;YAkFjD,CAAA,KAAA,OAAO,CAjFC,WAAC,CAAA,CAAW,IAAC,WAAK,gBAAG,EAAiB;YAkF9C,KAAK,CAjFC,IAAC,OAiFP,KAAK,EAjFO,gBAAG,EAAiB;QAkFlC,CAAC;QAjFC,IAAA,CAAK,CAAA;YAkFL,KAAK,CAjFC,IAAC,OAiFP,KAAK,EAjFO,4BAAG,CAkFX,QAAQ,EAjFE,aAAA,EAAe,QAAA,EAAU,KAAA,CAAM,UAAC,EAAW,UAAA,EAAY,mBAAA,CAAoB,EAAE;QAkF7F,CAAC;;IACH,CAAC,CAjFC,CAAC;IAkFH,OAAO,CAjFC,OAAC,CAAO,IAAC,CAAI,IAAI,CAAA,CAAE,WAAC,CAAW,WAAC,EAAY,YAAA,EAAc,KAAA,CAAM,CAAC,CAAC;AAkF5E,CAAC;AACD;;;;GAIG;AACH,8BArFC,aAAA,EAAA,OAAA;IAsFC,IAAM,gBAAgB,CArFhB,SAAA,GAAY,CAAA,CAAE,QAAC,CAAQ,QAAC,CAAQ,CAAC;IAsFvC,IAAM,gBAAgB,CArFhB,WAAA,GAA6B,CAAA,SAAE,CAAS,GAAC,CAAG,CAAC,CAAC,OAAC,CAAO,IAAC,CAAI,CAAC,CAAC,UAAC,CAAU,CAAC,CAAC,SAAC,CAAS,CAAC,CAAC;IAsF5F,aAAa,CArFC,OAAC,CAAO,UAAC,YAAC,EAAa,QAAA;QAsFnC,IAAM,gBAAgB,CArFhB,UAAA,GAAa,oBAAA,CAsFf,IAAI,EArFE,CAAA,CAAE,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB,EAAE,YAAA,CAAa,OAAC,EAAQ,SAAA,QAAgB,CAAE,CAAC;QAsFzF,IAAM,gBAAgB,CArFhB,SAAA,GAAY,UAAA,CAAW,KAAC,CAAK;QAsFnC,EAAE,CAAC,CAAC,UArFC,CAAU,YAAC,CAAY,CAAC,CAAA;YAsF3B,SAAS,CArFC,IAAC,CAAI,SAAC,CAAS,GAAC,CAAG,UAAC,CAAU,YAAC,CAAY,GAAC,CAAG,SAAC,CAAS,CAAC,CAAC,MAAC,EAAM,CAAE,CAAC;QAsFjF,CAAC;QACD,6EAA6E;QAC7E,WAAW,CArFC,IAAC,CAsFT,IArFI,CAAA,CAAE,MAAC,CAAM,cAAC,CAAc,MAAC,CAAM,CAAC,CAAC,OAAC,CAAO,YAAC,CAAY,QAAC,CAAQ,CAAC,EAAE,SAAA,CAAU,CAAC,CAAC;IAsFxF,CAAC,CArFC,CAAC;IAsFH,WAAW,CArFC,IAAC,CAAI,IAAI,CAAA,CAAE,eAAC,CAAe,SAAC,CAAS,CAAC,CAAC;IAsFnD,OAAO,CArFC,OAAC,CAAO,IAAC,CAAI,IAAI,CAAA,CAAE,WAAC,CAsFxB,aAAa,EACb;QACE,IArFI,CAAA,CAAE,OAAC,CAAO,cAAC,CAAc,IAAC,EAAK,CAAA,CAAE,WAAC,CAAW;QAsFjD,IArFI,CAAA,CAAE,OAAC,CAAO,gBAAC,CAAgB,KAAC,CAAK,IAAC,EAAK,CAAA,CAAE,YAAC,CAAY;KAsF3D,EACD,WAAW,EArFE,CAAA,CAAE,SAAC,CAAS,CAAC,CAAC;AAsFjC,CAAC;AACD;;;;GAIG;AACH,4BAzFC,OAAA,EAAA,OAAA;IA0FC,IAAM,gBAAgB,CAzFhB,YAAA,GAA4B;QA0FhC,IAzFI,CAAA,CAAE,OAAC,CA0FH,QAAQ,CAzFC,IAAC,EAAK,CAAA,CAAE,UAAC,CAAU,gBAAC,CAAgB,WAAC,CAAW,OAAC,CAAO,EAAE,CAAA,CAAE,CAAC,YAAC,CAAY,CAAC,CAAC;QA0FzF,IAzFI,CAAA,CAAE,OAAC,CAAO,wBAAC,EAAyB,CAAA,CAAE,YAAC,CAAY;KA0FxD,CAzFC;IA0FF,IAAM,gBAAgB,CAzFhB,KAAA,GAAuB;QA0F3B,CAAC,CAzFC,SAAC,CAAS,IAAC,CAAI,wBAAC,CAAwB,CAAC,GAAC,CAAG,CAAC,CAAC,QAAC,CAAQ,wBAAC,CAAwB,CAAC,CAAC,MAAC,EAAM;KA0F7F,CAzFC;IA0FF,MAAM,CAzFC,IAAC,CAAI,OAAC,CAAO,OAAC,CAAO,CAAC,OAAC,CAAO,UAAC,eAAC,EAAgB,UAAA;QA0FrD,IAAM,gBAAgB,CAzFhB,SAAA,GAAY,OAAA,CAAQ,OAAC,CAAO,eAAC,CAAe,CAAC;QA0FnD,IAAM,gBAAgB,CAzFhB,SAAA,GAAY,SAAA,UAAkB,CAAE;QA0FtC,YAAY,CAzFC,IAAC,CAAI,IAAI,CAAA,CAAE,OAAC,CAAO,SAAC,EAAU,CAAA,CAAE,SAAC,CAAS,CAAC,CAAC;QA0FzD,IAAM,gBAAgB,CAzFhB,qBAAA,GAAwB,iBAAA,UAA0B,CAAE;QA0F1D,OAAO,CAzFC,MAAC,CAAM,IAAC,CAAI,IAAI,CAAA,CAAE,UAAC,CAAU,qBAAC,EAAsB,CAAA,CAAE,YAAC,CAAY,CAAC,CAAC;QA0F7E,KAAK,CAzFC,IAAC,CAAI,IAAI,CAAA,CAAE,MAAC,CAAM,CAAC,CAAC,QAAC,CAAQ,SAAC,CAAS,EAAE;YA0F7C,CAAC,CAzFC,SAAC,CAAS,IAAC,CAAI,qBAAC,CAAqB;iBA0FlC,GAzFC,CAAG,CAAC,CAAC,SAAC,CAAS,IAAC,CAAI,kBAAC,CAAkB;iBA0F/B,IAzFC,CAAI,eAAC,CAAe;iBA0FrB,UAzFC,CA0FE,CAAC,CAzFC,aAAC,CAAa,mBAAC,EA0FjB,CAAC,CAzFC,CAAC,QAAC,CAAQ,wBAAC,CAAwB;qBA0F/B,UAzFC,CAAU,CAAC,CAAC,aAAC,CAAa,IAAC,EAAK,CAAA,QAAE,EAAS,CAAA,CAAE,OAAC,CAAO,SAAC,CAAS,CAAC,CAAC,CAAC,CAAC,CAAC;iBA0FvF,MAzFC,EAAM;SA0Fb,CAzFC,CAAC,CAAC;QA0FJ,OAAO,CAzFC,YAAC,CAAY,IAAC,CA0FlB,CAAC,CAzFC,SAAC,CAAS,IAAC,CAAI,qBAAC,CAAqB;aA0FlC,GAzFC,CAAG,CAAC,CAAC,SAAC,CAAS,IAAC,CAAI,qBAAC,CAAqB,CAAC,UAAC,CAAU,aAAC,EAAc,EAAA,CAAG,CAAC;aA0F1E,MAzFC,EAAM,CAAE,CAAC;IA0FrB,CAAC,CAzFC,CAAC;IA0FH,OAAO,CAzFC,OAAC,CAAO,IAAC,CAAI,IAAI,CAAA,CAAE,WAAC,CAAW,WAAC,EAAY,YAAA,EAAc,KAAA,CAAM,CAAC,CAAC;AA0F5E,CAAC;AACD;IACA;;;;OAIG;IACH,qBA5Fa,SAAmC,EAAU,aAA6B,EAC1E,MAAmB;QADnB,cAAA,GAAA,SAAA,CAAmC;QAAU,kBAAA,GAAA,aAAA,CAA6B;QAC1E,WAAA,GAAA,MAAA,CAAmB;IAAE,CAAA;IA+FlC,kBAAC;AAAD,CAVA,AAUC,IAAA;AAED;IACA,gBAAgB;IAChB,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC;IAChC,gBAAgB;IAChB,WAAW,CAAC,SAAS,CAAC,aAAa,CAAC;IACpC,gBAAgB;IAChB,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC;AAC7B,CAAC;AAED;;;;;GAKG;AACH,2BACI,OAAiC,EAAE,UAAkB,EACrD,cAAqC;IACvC,IAAM,gBAAgB,CA7GhB,MAAA,GAAuB,EAAA,CAAG;IA8GhC,IAAM,gBAAgB,CA7GhB,MAAA,GA8GF,IA7GI,aAAA,CAAc,UAAC,EAAW,4BAAA,EAA8B,cAAA,EAAgB,EAAA,EAAI,MAAA,CAAO,CAAC;IA8G5F,IAAM,gBAAgB,CA7GhB,SAAA,GAAY,mBAAA,CAAoB,OAAC,CAAO,IAAC,CAAI,CAAC;IA8GpD,IAAM,gBAAgB,CA7GhB,cAAA,GAAiB,SAAA;QA8GnB,kBAAgB,cA7GC,CAAc,OAAC,CAAO,IAAC,CAAI,YAAC,SAAgB;QA8G7D,kBAAgB,cA7GC,CAAc,OAAC,CAAO,IAAC,CAAK,CAAE;IA8GnD,IAAM,gBAAgB,CA7GhB,UAAA,GAAa,IAAI,eAAA,CAAgB,EAAC,EAAG,cAAA,CAAe,CAAC;IA8G3D,IAAM,gBAAgB,CA7GhB,UAAA,GAAa,IAAI,eAAA,CA8GnB,IA7GI,aAAA,CAAc,UAAC,EAAW,IAAA,EAAM,IAAA,EAAM,IAAA,CAAK,EA8G/C,IA7GI,aAAA,CAAc,UAAC,EAAW,IAAA,EAAM,IAAA,EAAM,IAAA,CAAK,CAAC,CAAC;IA8GrD,IAAM,gBAAgB,CA7GhB,eAAA,GA8GF,MAAM,CA7GC,+BAAC,CAA+B,OAAC,CAAO,SAAC,EAAS,EAAG,OAAA,CAAQ,QAAC,EAAS,UAAA,CAAW,CAAC;IA8G9F,IAAM,gBAAgB,CA7GhB,mBAAA,GAAsB,MAAA,CAAO,4BAAC,CAA4B,OAAC,CAAO,SAAC,EAAS,EAAG,UAAA,CAAW,CAAC;IA+GjG,MAAM,CA7GC,IAAI,WAAA,CAAY,eAAC,EAAgB,mBAAA,EAAqB,MAAA,CAAO,CAAC;AA8GvE,CAAC;AACD;;;;GAIG;AACH,2BAjHC,WAAA,EAAA,OAAA;IAkHC,IAAM,gBAAgB,CAjHhB,QAAA,GAAW,WAAA,CAAY,MAAC,CAAM,UAAA,KAAC,IAAQ,OAAA,KAAA,CAAM,KAAC,KAAS,eAAA,CAAgB,OAAC,EAAjC,CAAiC,CAAO,CAAC;IAkHtF,IAAM,gBAAgB,CAjHhB,MAAA,GAAS,WAAA,CAAY,MAAC,CAAM,UAAA,KAAC,IAAQ,OAAA,KAAA,CAAM,KAAC,KAAS,eAAA,CAAgB,KAAC,EAAjC,CAAiC,CAAK,CAAC;IAmHlF,EAAE,CAAC,CAAC,QAjHC,CAAQ,MAAC,GAAQ,CAAA,CAAE,CAAC,CAAA;QAkHvB,IAAI,CAjHC,QAAC,CAAQ,IAAC,CAAI,gCAAC,QAA8B,CAAQ,IAAC,CAAI,IAAC,CAAK,CAAE,CAAC;IAkH1E,CAAC;IAED,EAAE,CAAC,CAAC,MAjHC,CAAM,MAAC,GAAQ,CAAA,CAAE,CAAC,CAAA;QAkHrB,MAjHM,IAAI,KAAA,CAAM,8BAAC,MAA4B,CAAM,IAAC,CAAI,IAAC,CAAK,CAAE,CAAC;IAkHnE,CAAC;AACH,CAAC;AACD;IAAA;IAoIA,CAAC;IAnID;;;;OAIG;IApHA,kCAAA,GAqHH,UArHG,GAAA,EAAA,QAAA;QAsHC,MAAM,CArHC,CAAA,CAAE,UAAC,CAAU,GAAC,CAAG,CAAC,WAAC,CAAW,QAAC,EAAS,CAAA,CAAE,UAAC,CAAU,GAAC,CAAG,CAAC,CAAC;IAsHpE,CAAC;IACH;;;OAGG;IAxHA,mCAAA,GAyHH,UAzHG,UAAA;QA0HC,MAAM,CAzHC,UAAA,CAAW,IAAC,CAAI,kBAAC,CAAkB,CAAC;IA0H7C,CAAC;IACH;;;;;OAKG;IA7HA,qCAAA,GA8HH,UA9HG,UAAA,EAAA,IAAA,EAAA,aAAA;QAgIC,MAAM,CA9HC,UAAA,CAAW,UAAC,CAAU,WAAC,EAAY,CAAA,IAAE,EAAK,aAAA,CAAc,CAAC,CAAC;IA+HnE,CAAC;IACH;;;;;;;;OAQG;IAtIA,qCAAA,GAuIH,UACM,SAAoC,EAAE,UAAwB,EAAE,IAAkB,EAClF,aAA2B,EAAE,aAA2B,EACxD,uBAAuC;QACzC,EAAE,CAAC,CAAC,SAvIC,CAAS,MAAC,CAAM,CAAC,CAAA;YAwIpB,MAAM,CAvIC,CAAA,UAAE;qBAwII,UAvIC,CAwIE,WAAW,EACX,CAAC,IAvIC,EAAK,aAAA,EAAe,aAAA,CAAc,CAAC,MAAC,CAAM,uBAAC,CAAuB,CAAC;qBAwIxE,MAvIC,EAAM,CAAE,CAAC;QAwIzB,CAAC;QAvIC,IAAA,CAAK,CAAA;YAwIL,MAAM,CAvIC,EAAA,CAAG;QAwIZ,CAAC;IACH,CAAC;IACH;;;;;;;OAOG;IA9IA,sCAAA,GA+IH,UACM,SAAoC,EAAE,UAAwB,EAAE,IAAkB,EAClF,aAA2B,EAAE,QAAsB;QACrD,EAAE,CAAC,CAAC,SA/IC,CAAS,IAAC,CAAI,UAAA,IAAC,IAAO,OAAA,IAAA,CAAK,WAAC,EAAN,CAAM,CAAW,CAAC,CAAC,CAAA;YAgJ5C,MAAM,CA/IC,CAAA,UAAE;qBAgJI,UA/IC,CAgJE,YAAY,EACZ;oBACE,IAAI;oBACJ,aAAa;oBACb,QAAQ;iBACT,CA/IC;qBAgJL,MA/IC,EAAM,CAAE,CAAC;QAgJzB,CAAC;QA/IC,IAAA,CAAK,CAAA;YAgJL,MAAM,CA/IC,EAAA,CAAG;QAgJZ,CAAC;IACH,CAAC;IACH;;;;OAIG;IAnJA,uCAAA,GAoJH,UApJG,GAAA,EAAA,UAAA;QAqJC,EAAE,CAAC,CAAC,GApJC,CAAG,IAAC,CAAI,cAAC,CAAc,OAAC,CAAO,cAAC,CAAc,SAAC,CAAS,KAAK,CAAA,CAAE;YAqJhE,MAAM,CApJC,IAAC,CAAI,GAAC,CAAG,OAAC,CAAO,CAAC,MAAC,GAAQ,CAAA,CAAE,CAAC,CAAA;YAqJvC,MAAM,CApJC,CAAA,UAAE,CAAU,UAAC,CAAU,aAAC,EAAc,EAAA,CAAG,CAAC,MAAC,EAAM,CAAE,CAAC;QAqJ7D,CAAC;QApJC,IAAA,CAAK,CAAA;YAqJL,MAAM,CApJC,EAAA,CAAG;QAqJZ,CAAC;IACH,CAAC;IACH;;;;;;;;OAQG;IA5JA,qCAAA,GA6JH,UACM,OAAgC,EAAE,SAAoC,EAAE,UAAoB,EAC5F,UAAwB,EAAE,IAAkB,EAAE,aAA2B;QAC3E,IAAI,gBAAgB,CA7JhB,cAAA,GAAiB,KAAA,CAAM;QA8J3B,IAAM,gBAAgB,CA7JhB,UAAA,GAA6B,EAAA,CAAG;QA8JtC,MAAM,CA7JC,IAAC,CAAI,OAAC,CAAO,OAAC,CAAO,CAAC,OAAC,CAAO,UAAC,QAAC;YA8JrC,IAAM,gBAAgB,CA7JhB,SAAA,GAAY,OAAA,CAAQ,OAAC,CAAO,QAAC,CAAQ,CAAC;YA8J5C,IAAM,gBAAgB,CA7JhB,SAAA,GAAY,UAAA,CAAW,OAAC,CAAO,SAAC,CAAS,GAAG,CAAA,CAAE,CAAC;YA8JrD,cAAc,GA7JG,cAAA,IAAkB,SAAA,CAAU;YA8J7C,UAAU,CA7JC,IAAC,CAAI,CAAC,CAAC,OAAC,CAAO,SAAC,CAAS,CAAC,CAAC;QA8JxC,CAAC,CA7JC,CAAC;QA8JH,SAAS,CA7JC,OAAC,CAAO,UAAC,QAAC;YA8JlB,EAAE,CAAC,CAAC,QA7JC,CAAQ,WAAC,IAAc,UAAA,CAAW,MAAC,GAAQ,CAAA,CAAE,CAAC,CAAA;gBA8JjD,cAAc,GA7JG,IAAA,CAAK;YA8JxB,CAAC;QACH,CAAC,CA7JC,CAAC;QA8JH,EAAE,CAAC,CAAC,cA7JC,CAAc,CAAC,CAAA;YA8JlB,MAAM,CA7JC;gBA8JL,UAAU,CA7JC,UAAC,CAAU,WAAC,EAAY,CAAA,IAAE,EAAK,aAAA,CAAc,CAAC,MAAC,CAAM,UAAC,CAAU,CAAC,CAAC,MAAC,EAAM;aA8JrF,CA7JC;QA8JJ,CAAC;QA7JC,IAAA,CAAK,CAAA;YA8JL,MAAM,CA7JC,EAAA,CAAG;QA8JZ,CAAC;IACH,CAAC;IACH;;;;;;OAMG;IAnKA,uCAAA,GAoKH,UACM,UAA2B,EAAE,UAAwB,EAAE,SAAuB,EAC9E,KAAmB;QACrB,MAAM,CApKC,UAAA,CAAW,UAAC,CAAU,aAAC,EAAc,CAAA,SAAE,EAAU,KAAA,CAAM,CAAC,CAAC;IAqKlE,CAAC;IACH,kCAAC;AAAD,CApIA,AAoIC,IAAA","file":"directive_wrapper_compiler.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {CompileDirectiveMetadata, CompileDirectiveSummary, CompileIdentifierMetadata, dirWrapperClassName, identifierModuleUrl, identifierName} from './compile_metadata';\nimport {createCheckBindingField, isFirstViewCheck} from './compiler_util/binding_util';\nimport {EventHandlerVars, convertActionBinding, legacyConvertPropertyBinding} from './compiler_util/expression_converter';\nimport {createCheckAnimationBindingStmts, createCheckRenderBindingStmt} from './compiler_util/render_util';\nimport {CompilerConfig} from './config';\nimport {Parser} from './expression_parser/parser';\nimport {Identifiers, createIdentifier} from './identifiers';\nimport {CompilerInjectable} from './injectable';\nimport {DEFAULT_INTERPOLATION_CONFIG} from './ml_parser/interpolation_config';\nimport {ClassBuilder, createClassStmt} from './output/class_builder';\nimport * as o from './output/output_ast';\nimport {ParseError, ParseErrorLevel, ParseLocation, ParseSourceFile, ParseSourceSpan} from './parse_util';\nimport {Console, LifecycleHooks} from './private_import_core';\nimport {ElementSchemaRegistry} from './schema/element_schema_registry';\nimport {BindingParser} from './template_parser/binding_parser';\nimport {BoundElementPropertyAst, BoundEventAst} from './template_parser/template_ast';\nexport class DirectiveWrapperCompileResult {\n/**\n * @param {?} statements\n * @param {?} dirWrapperClassVar\n */\nconstructor(public statements: o.Statement[],\npublic dirWrapperClassVar: string) {}\n}\n\nfunction DirectiveWrapperCompileResult_tsickle_Closure_declarations() {\n/** @type {?} */\nDirectiveWrapperCompileResult.prototype.statements;\n/** @type {?} */\nDirectiveWrapperCompileResult.prototype.dirWrapperClassVar;\n}\n\n\nconst /** @type {?} */ CONTEXT_FIELD_NAME = 'context';\nconst /** @type {?} */ CHANGES_FIELD_NAME = '_changes';\nconst /** @type {?} */ CHANGED_FIELD_NAME = '_changed';\nconst /** @type {?} */ EVENT_HANDLER_FIELD_NAME = '_eventHandler';\n\nconst /** @type {?} */ CHANGE_VAR = o.variable('change');\nconst /** @type {?} */ CURR_VALUE_VAR = o.variable('currValue');\nconst /** @type {?} */ FORCE_UPDATE_VAR = o.variable('forceUpdate');\nconst /** @type {?} */ VIEW_VAR = o.variable('view');\nconst /** @type {?} */ COMPONENT_VIEW_VAR = o.variable('componentView');\nconst /** @type {?} */ RENDER_EL_VAR = o.variable('el');\nconst /** @type {?} */ EVENT_NAME_VAR = o.variable('eventName');\n\nconst /** @type {?} */ RESET_CHANGES_STMT = o.THIS_EXPR.prop(CHANGES_FIELD_NAME).set(o.literalMap([])).toStmt();\n/**\n * We generate directive wrappers to prevent code bloat when a directive is used.\n * A directive wrapper encapsulates\n * the dirty checking for `\\@Input`, the handling of `\\@HostListener` / `\\@HostBinding`\n * and calling the lifecyclehooks `ngOnInit`, `ngOnChanges`, `ngDoCheck`.\n * \n * So far, only `\\@Input` and the lifecycle hooks have been implemented.\n */\n@CompilerInjectable()\nexport class DirectiveWrapperCompiler {\n/**\n * @param {?} compilerConfig\n * @param {?} _exprParser\n * @param {?} _schemaRegistry\n * @param {?} _console\n */\nconstructor(\nprivate compilerConfig: CompilerConfig,\nprivate _exprParser: Parser,\nprivate _schemaRegistry: ElementSchemaRegistry,\nprivate _console: Console) {}\n/**\n * @param {?} dirMeta\n * @return {?}\n */\ncompile(dirMeta: CompileDirectiveMetadata): DirectiveWrapperCompileResult {\n    const /** @type {?} */ hostParseResult = parseHostBindings(dirMeta, this._exprParser, this._schemaRegistry);\n    reportParseErrors(hostParseResult.errors, this._console);\n\n    const /** @type {?} */ builder = new DirectiveWrapperBuilder(this.compilerConfig, dirMeta);\n    Object.keys(dirMeta.inputs).forEach((inputFieldName) => {\n      addCheckInputMethod(inputFieldName, builder);\n    });\n    addNgDoCheckMethod(builder);\n    addCheckHostMethod(hostParseResult.hostProps, hostParseResult.hostListeners, builder);\n    addHandleEventMethod(hostParseResult.hostListeners, builder);\n    addSubscribeMethod(dirMeta, builder);\n\n    const /** @type {?} */ classStmt = builder.build();\n    return new DirectiveWrapperCompileResult([classStmt], classStmt.name);\n  }\n}\n\nfunction DirectiveWrapperCompiler_tsickle_Closure_declarations() {\n/** @type {?} */\nDirectiveWrapperCompiler.prototype.compilerConfig;\n/** @type {?} */\nDirectiveWrapperCompiler.prototype._exprParser;\n/** @type {?} */\nDirectiveWrapperCompiler.prototype._schemaRegistry;\n/** @type {?} */\nDirectiveWrapperCompiler.prototype._console;\n}\n\nclass DirectiveWrapperBuilder implements ClassBuilder {\n  fields: o.ClassField[] = [];\n  getters: o.ClassGetter[] = [];\n  methods: o.ClassMethod[] = [];\n  ctorStmts: o.Statement[] = [];\n  detachStmts: o.Statement[] = [];\n  destroyStmts: o.Statement[] = [];\n\n  genChanges: boolean;\n  ngOnChanges: boolean;\n  ngOnInit: boolean;\n  ngDoCheck: boolean;\n  ngOnDestroy: boolean;\n/**\n * @param {?} compilerConfig\n * @param {?} dirMeta\n */\nconstructor(public compilerConfig: CompilerConfig,\npublic dirMeta: CompileDirectiveMetadata) {\n    const dirLifecycleHooks = dirMeta.type.lifecycleHooks;\n    this.genChanges = dirLifecycleHooks.indexOf(LifecycleHooks.OnChanges) !== -1 ||\n        this.compilerConfig.logBindingUpdate;\n    this.ngOnChanges = dirLifecycleHooks.indexOf(LifecycleHooks.OnChanges) !== -1;\n    this.ngOnInit = dirLifecycleHooks.indexOf(LifecycleHooks.OnInit) !== -1;\n    this.ngDoCheck = dirLifecycleHooks.indexOf(LifecycleHooks.DoCheck) !== -1;\n    this.ngOnDestroy = dirLifecycleHooks.indexOf(LifecycleHooks.OnDestroy) !== -1;\n    if (this.ngOnDestroy) {\n      this.destroyStmts.push(\n          o.THIS_EXPR.prop(CONTEXT_FIELD_NAME).callMethod('ngOnDestroy', []).toStmt());\n    }\n  }\n/**\n * @return {?}\n */\nbuild(): o.ClassStmt {\n    const /** @type {?} */ dirDepParamNames: string[] = [];\n    for (let /** @type {?} */ i = 0; i < this.dirMeta.type.diDeps.length; i++) {\n      dirDepParamNames.push(`p${i}`);\n    }\n\n    const /** @type {?} */ methods = [\n      new o.ClassMethod(\n          'ngOnDetach',\n          [\n            new o.FnParam(\n                VIEW_VAR.name,\n                o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n            new o.FnParam(\n                COMPONENT_VIEW_VAR.name,\n                o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n            new o.FnParam(RENDER_EL_VAR.name, o.DYNAMIC_TYPE),\n          ],\n          this.detachStmts),\n      new o.ClassMethod('ngOnDestroy', [], this.destroyStmts),\n    ];\n\n    const /** @type {?} */ fields: o.ClassField[] = [\n      new o.ClassField(EVENT_HANDLER_FIELD_NAME, o.FUNCTION_TYPE, [o.StmtModifier.Private]),\n      new o.ClassField(CONTEXT_FIELD_NAME, o.importType(this.dirMeta.type)),\n      new o.ClassField(CHANGED_FIELD_NAME, o.BOOL_TYPE, [o.StmtModifier.Private]),\n    ];\n    const /** @type {?} */ ctorStmts: o.Statement[] = [\n      o.THIS_EXPR.prop(CHANGED_FIELD_NAME).set(o.literal(false)).toStmt(),\n    ];\n    if (this.genChanges) {\n      fields.push(new o.ClassField(\n          CHANGES_FIELD_NAME, new o.MapType(o.DYNAMIC_TYPE), [o.StmtModifier.Private]));\n      ctorStmts.push(RESET_CHANGES_STMT);\n    }\n\n    ctorStmts.push(\n        o.THIS_EXPR.prop(CONTEXT_FIELD_NAME)\n            .set(o.importExpr(this.dirMeta.type)\n                     .instantiate(dirDepParamNames.map((paramName) => o.variable(paramName))))\n            .toStmt());\n\n    return createClassStmt({\n      name: dirWrapperClassName(this.dirMeta.type.reference),\n      ctorParams: dirDepParamNames.map((paramName) => new o.FnParam(paramName, o.DYNAMIC_TYPE)),\n      builders: [{fields, ctorStmts, methods}, this]\n    });\n  }\n}\n\nfunction DirectiveWrapperBuilder_tsickle_Closure_declarations() {\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.fields;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.getters;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.methods;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.ctorStmts;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.detachStmts;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.destroyStmts;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.genChanges;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.ngOnChanges;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.ngOnInit;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.ngDoCheck;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.ngOnDestroy;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.compilerConfig;\n/** @type {?} */\nDirectiveWrapperBuilder.prototype.dirMeta;\n}\n\n/**\n * @param {?} builder\n * @return {?}\n */\nfunction addNgDoCheckMethod(builder: DirectiveWrapperBuilder) {\n  const /** @type {?} */ changedVar = o.variable('changed');\n  const /** @type {?} */ stmts: o.Statement[] = [\n    changedVar.set(o.THIS_EXPR.prop(CHANGED_FIELD_NAME)).toDeclStmt(),\n    o.THIS_EXPR.prop(CHANGED_FIELD_NAME).set(o.literal(false)).toStmt(),\n  ];\n  const /** @type {?} */ lifecycleStmts: o.Statement[] = [];\n\n  if (builder.genChanges) {\n    const /** @type {?} */ onChangesStmts: o.Statement[] = [];\n    if (builder.ngOnChanges) {\n      onChangesStmts.push(o.THIS_EXPR.prop(CONTEXT_FIELD_NAME)\n                              .callMethod('ngOnChanges', [o.THIS_EXPR.prop(CHANGES_FIELD_NAME)])\n                              .toStmt());\n    }\n    if (builder.compilerConfig.logBindingUpdate) {\n      onChangesStmts.push(\n          o.importExpr(createIdentifier(Identifiers.setBindingDebugInfoForChanges))\n              .callFn(\n                  [VIEW_VAR.prop('renderer'), RENDER_EL_VAR, o.THIS_EXPR.prop(CHANGES_FIELD_NAME)])\n              .toStmt());\n    }\n    onChangesStmts.push(RESET_CHANGES_STMT);\n    lifecycleStmts.push(new o.IfStmt(changedVar, onChangesStmts));\n  }\n\n  if (builder.ngOnInit) {\n    lifecycleStmts.push(new o.IfStmt(\n        isFirstViewCheck(VIEW_VAR),\n        [o.THIS_EXPR.prop(CONTEXT_FIELD_NAME).callMethod('ngOnInit', []).toStmt()]));\n  }\n  if (builder.ngDoCheck) {\n    lifecycleStmts.push(o.THIS_EXPR.prop(CONTEXT_FIELD_NAME).callMethod('ngDoCheck', []).toStmt());\n  }\n  if (lifecycleStmts.length > 0) {\n    stmts.push(new o.IfStmt(o.not(VIEW_VAR.prop('throwOnChange')), lifecycleStmts));\n  }\n  stmts.push(new o.ReturnStatement(changedVar));\n\n  builder.methods.push(new o.ClassMethod(\n      'ngDoCheck',\n      [\n        new o.FnParam(\n            VIEW_VAR.name, o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n        new o.FnParam(RENDER_EL_VAR.name, o.DYNAMIC_TYPE),\n      ],\n      stmts, o.BOOL_TYPE));\n}\n/**\n * @param {?} input\n * @param {?} builder\n * @return {?}\n */\nfunction addCheckInputMethod(input: string, builder: DirectiveWrapperBuilder) {\n  const /** @type {?} */ field = createCheckBindingField(builder);\n  const /** @type {?} */ onChangeStatements: o.Statement[] = [\n    o.THIS_EXPR.prop(CHANGED_FIELD_NAME).set(o.literal(true)).toStmt(),\n    o.THIS_EXPR.prop(CONTEXT_FIELD_NAME).prop(input).set(CURR_VALUE_VAR).toStmt(),\n    field.expression.set(CURR_VALUE_VAR).toStmt()\n  ];\n  let /** @type {?} */ methodBody: o.Statement[];\n  if (builder.genChanges) {\n    onChangeStatements.push(\n        o.THIS_EXPR.prop(CHANGES_FIELD_NAME).key(o.literal(input)).set(CHANGE_VAR).toStmt());\n    methodBody = [\n      CHANGE_VAR\n          .set(o.importExpr(createIdentifier(Identifiers.checkBindingChange)).callFn([\n            VIEW_VAR, field.expression, CURR_VALUE_VAR, FORCE_UPDATE_VAR\n          ]))\n          .toDeclStmt(),\n      new o.IfStmt(CHANGE_VAR, onChangeStatements)\n    ];\n  } else {\n    methodBody = [new o.IfStmt(\n        o.importExpr(createIdentifier(Identifiers.checkBinding)).callFn([\n          VIEW_VAR, field.expression, CURR_VALUE_VAR, FORCE_UPDATE_VAR\n        ]),\n        onChangeStatements)];\n  }\n\n  builder.methods.push(new o.ClassMethod(\n      `check_${input}`,\n      [\n        new o.FnParam(\n            VIEW_VAR.name, o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n        new o.FnParam(CURR_VALUE_VAR.name, o.DYNAMIC_TYPE),\n        new o.FnParam(FORCE_UPDATE_VAR.name, o.BOOL_TYPE)\n      ],\n      methodBody));\n}\n/**\n * @param {?} hostProps\n * @param {?} hostEvents\n * @param {?} builder\n * @return {?}\n */\nfunction addCheckHostMethod(\n    hostProps: BoundElementPropertyAst[], hostEvents: BoundEventAst[],\n    builder: DirectiveWrapperBuilder) {\n  const /** @type {?} */ stmts: o.Statement[] = [];\n  const /** @type {?} */ methodParams: o.FnParam[] = [\n    new o.FnParam(\n        VIEW_VAR.name, o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n    new o.FnParam(\n        COMPONENT_VIEW_VAR.name,\n        o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n    new o.FnParam(RENDER_EL_VAR.name, o.DYNAMIC_TYPE),\n  ];\n  hostProps.forEach((hostProp, hostPropIdx) => {\n    const /** @type {?} */ field = createCheckBindingField(builder);\n    const /** @type {?} */ evalResult = legacyConvertPropertyBinding(\n        builder, null, o.THIS_EXPR.prop(CONTEXT_FIELD_NAME), hostProp.value, field.bindingId);\n    if (!evalResult) {\n      return;\n    }\n    let /** @type {?} */ securityContextExpr: o.ReadVarExpr;\n    if (hostProp.needsRuntimeSecurityContext) {\n      securityContextExpr = o.variable(`secCtx_${methodParams.length}`);\n      methodParams.push(new o.FnParam(\n          securityContextExpr.name, o.importType(createIdentifier(Identifiers.SecurityContext))));\n    }\n    if (hostProp.isAnimation) {\n      const {checkUpdateStmts, checkDetachStmts} = createCheckAnimationBindingStmts(\n          VIEW_VAR, COMPONENT_VIEW_VAR, hostProp, hostEvents,\n          o.THIS_EXPR.prop(EVENT_HANDLER_FIELD_NAME)\n              .or(o.importExpr(createIdentifier(Identifiers.noop))),\n          RENDER_EL_VAR, field.expression, evalResult);\n      builder.detachStmts.push(...checkDetachStmts);\n      stmts.push(...checkUpdateStmts);\n    } else {\n      stmts.push(...createCheckRenderBindingStmt(\n          VIEW_VAR, RENDER_EL_VAR, hostProp, field.expression, evalResult, securityContextExpr));\n    }\n  });\n  builder.methods.push(new o.ClassMethod('checkHost', methodParams, stmts));\n}\n/**\n * @param {?} hostListeners\n * @param {?} builder\n * @return {?}\n */\nfunction addHandleEventMethod(hostListeners: BoundEventAst[], builder: DirectiveWrapperBuilder) {\n  const /** @type {?} */ resultVar = o.variable(`result`);\n  const /** @type {?} */ actionStmts: o.Statement[] = [resultVar.set(o.literal(true)).toDeclStmt(o.BOOL_TYPE)];\n  hostListeners.forEach((hostListener, eventIdx) => {\n    const /** @type {?} */ evalResult = convertActionBinding(\n        null, o.THIS_EXPR.prop(CONTEXT_FIELD_NAME), hostListener.handler, `sub_${eventIdx}`);\n    const /** @type {?} */ trueStmts = evalResult.stmts;\n    if (evalResult.allowDefault) {\n      trueStmts.push(resultVar.set(evalResult.allowDefault.and(resultVar)).toStmt());\n    }\n    // TODO(tbosch): convert this into a `switch` once our OutputAst supports it.\n    actionStmts.push(\n        new o.IfStmt(EVENT_NAME_VAR.equals(o.literal(hostListener.fullName)), trueStmts));\n  });\n  actionStmts.push(new o.ReturnStatement(resultVar));\n  builder.methods.push(new o.ClassMethod(\n      'handleEvent',\n      [\n        new o.FnParam(EVENT_NAME_VAR.name, o.STRING_TYPE),\n        new o.FnParam(EventHandlerVars.event.name, o.DYNAMIC_TYPE)\n      ],\n      actionStmts, o.BOOL_TYPE));\n}\n/**\n * @param {?} dirMeta\n * @param {?} builder\n * @return {?}\n */\nfunction addSubscribeMethod(dirMeta: CompileDirectiveMetadata, builder: DirectiveWrapperBuilder) {\n  const /** @type {?} */ methodParams: o.FnParam[] = [\n    new o.FnParam(\n        VIEW_VAR.name, o.importType(createIdentifier(Identifiers.AppView), [o.DYNAMIC_TYPE])),\n    new o.FnParam(EVENT_HANDLER_FIELD_NAME, o.DYNAMIC_TYPE)\n  ];\n  const /** @type {?} */ stmts: o.Statement[] = [\n    o.THIS_EXPR.prop(EVENT_HANDLER_FIELD_NAME).set(o.variable(EVENT_HANDLER_FIELD_NAME)).toStmt()\n  ];\n  Object.keys(dirMeta.outputs).forEach((emitterPropName, emitterIdx) => {\n    const /** @type {?} */ eventName = dirMeta.outputs[emitterPropName];\n    const /** @type {?} */ paramName = `emit${emitterIdx}`;\n    methodParams.push(new o.FnParam(paramName, o.BOOL_TYPE));\n    const /** @type {?} */ subscriptionFieldName = `subscription${emitterIdx}`;\n    builder.fields.push(new o.ClassField(subscriptionFieldName, o.DYNAMIC_TYPE));\n    stmts.push(new o.IfStmt(o.variable(paramName), [\n      o.THIS_EXPR.prop(subscriptionFieldName)\n          .set(o.THIS_EXPR.prop(CONTEXT_FIELD_NAME)\n                   .prop(emitterPropName)\n                   .callMethod(\n                       o.BuiltinMethod.SubscribeObservable,\n                       [o.variable(EVENT_HANDLER_FIELD_NAME)\n                            .callMethod(o.BuiltinMethod.Bind, [VIEW_VAR, o.literal(eventName)])]))\n          .toStmt()\n    ]));\n    builder.destroyStmts.push(\n        o.THIS_EXPR.prop(subscriptionFieldName)\n            .and(o.THIS_EXPR.prop(subscriptionFieldName).callMethod('unsubscribe', []))\n            .toStmt());\n  });\n  builder.methods.push(new o.ClassMethod('subscribe', methodParams, stmts));\n}\nclass ParseResult {\n/**\n * @param {?} hostProps\n * @param {?} hostListeners\n * @param {?} errors\n */\nconstructor(\npublic hostProps: BoundElementPropertyAst[],\npublic hostListeners: BoundEventAst[],\npublic errors: ParseError[]) {}\n}\n\nfunction ParseResult_tsickle_Closure_declarations() {\n/** @type {?} */\nParseResult.prototype.hostProps;\n/** @type {?} */\nParseResult.prototype.hostListeners;\n/** @type {?} */\nParseResult.prototype.errors;\n}\n\n/**\n * @param {?} dirMeta\n * @param {?} exprParser\n * @param {?} schemaRegistry\n * @return {?}\n */\nfunction parseHostBindings(\n    dirMeta: CompileDirectiveMetadata, exprParser: Parser,\n    schemaRegistry: ElementSchemaRegistry): ParseResult {\n  const /** @type {?} */ errors: ParseError[] = [];\n  const /** @type {?} */ parser =\n      new BindingParser(exprParser, DEFAULT_INTERPOLATION_CONFIG, schemaRegistry, [], errors);\n  const /** @type {?} */ moduleUrl = identifierModuleUrl(dirMeta.type);\n  const /** @type {?} */ sourceFileName = moduleUrl ?\n      `in Directive ${identifierName(dirMeta.type)} in ${moduleUrl}` :\n      `in Directive ${identifierName(dirMeta.type)}`;\n  const /** @type {?} */ sourceFile = new ParseSourceFile('', sourceFileName);\n  const /** @type {?} */ sourceSpan = new ParseSourceSpan(\n      new ParseLocation(sourceFile, null, null, null),\n      new ParseLocation(sourceFile, null, null, null));\n  const /** @type {?} */ parsedHostProps =\n      parser.createDirectiveHostPropertyAsts(dirMeta.toSummary(), dirMeta.selector, sourceSpan);\n  const /** @type {?} */ parsedHostListeners = parser.createDirectiveHostEventAsts(dirMeta.toSummary(), sourceSpan);\n\n  return new ParseResult(parsedHostProps, parsedHostListeners, errors);\n}\n/**\n * @param {?} parseErrors\n * @param {?} console\n * @return {?}\n */\nfunction reportParseErrors(parseErrors: ParseError[], console: Console) {\n  const /** @type {?} */ warnings = parseErrors.filter(error => error.level === ParseErrorLevel.WARNING);\n  const /** @type {?} */ errors = parseErrors.filter(error => error.level === ParseErrorLevel.FATAL);\n\n  if (warnings.length > 0) {\n    this._console.warn(`Directive parse warnings:\\n${warnings.join('\\n')}`);\n  }\n\n  if (errors.length > 0) {\n    throw new Error(`Directive parse errors:\\n${errors.join('\\n')}`);\n  }\n}\nexport class DirectiveWrapperExpressions {\n/**\n * @param {?} dir\n * @param {?} depsExpr\n * @return {?}\n */\nstatic create(dir: CompileIdentifierMetadata, depsExpr: o.Expression[]): o.Expression {\n    return o.importExpr(dir).instantiate(depsExpr, o.importType(dir));\n  }\n/**\n * @param {?} dirWrapper\n * @return {?}\n */\nstatic context(dirWrapper: o.Expression): o.ReadPropExpr {\n    return dirWrapper.prop(CONTEXT_FIELD_NAME);\n  }\n/**\n * @param {?} dirWrapper\n * @param {?} view\n * @param {?} renderElement\n * @return {?}\n */\nstatic ngDoCheck(dirWrapper: o.Expression, view: o.Expression, renderElement: o.Expression, ):\n      o.Expression {\n    return dirWrapper.callMethod('ngDoCheck', [view, renderElement]);\n  }\n/**\n * @param {?} hostProps\n * @param {?} dirWrapper\n * @param {?} view\n * @param {?} componentView\n * @param {?} renderElement\n * @param {?} runtimeSecurityContexts\n * @return {?}\n */\nstatic checkHost(\n      hostProps: BoundElementPropertyAst[], dirWrapper: o.Expression, view: o.Expression,\n      componentView: o.Expression, renderElement: o.Expression,\n      runtimeSecurityContexts: o.Expression[]): o.Statement[] {\n    if (hostProps.length) {\n      return [dirWrapper\n                  .callMethod(\n                      'checkHost',\n                      [view, componentView, renderElement].concat(runtimeSecurityContexts))\n                  .toStmt()];\n    } else {\n      return [];\n    }\n  }\n/**\n * @param {?} hostProps\n * @param {?} dirWrapper\n * @param {?} view\n * @param {?} componentView\n * @param {?} renderEl\n * @return {?}\n */\nstatic ngOnDetach(\n      hostProps: BoundElementPropertyAst[], dirWrapper: o.Expression, view: o.Expression,\n      componentView: o.Expression, renderEl: o.Expression): o.Statement[] {\n    if (hostProps.some(prop => prop.isAnimation)) {\n      return [dirWrapper\n                  .callMethod(\n                      'ngOnDetach',\n                      [\n                        view,\n                        componentView,\n                        renderEl,\n                      ])\n                  .toStmt()];\n    } else {\n      return [];\n    }\n  }\n/**\n * @param {?} dir\n * @param {?} dirWrapper\n * @return {?}\n */\nstatic ngOnDestroy(dir: CompileDirectiveSummary, dirWrapper: o.Expression): o.Statement[] {\n    if (dir.type.lifecycleHooks.indexOf(LifecycleHooks.OnDestroy) !== -1 ||\n        Object.keys(dir.outputs).length > 0) {\n      return [dirWrapper.callMethod('ngOnDestroy', []).toStmt()];\n    } else {\n      return [];\n    }\n  }\n/**\n * @param {?} dirMeta\n * @param {?} hostProps\n * @param {?} usedEvents\n * @param {?} dirWrapper\n * @param {?} view\n * @param {?} eventListener\n * @return {?}\n */\nstatic subscribe(\n      dirMeta: CompileDirectiveSummary, hostProps: BoundElementPropertyAst[], usedEvents: string[],\n      dirWrapper: o.Expression, view: o.Expression, eventListener: o.Expression): o.Statement[] {\n    let /** @type {?} */ needsSubscribe = false;\n    const /** @type {?} */ eventFlags: o.Expression[] = [];\n    Object.keys(dirMeta.outputs).forEach((propName) => {\n      const /** @type {?} */ eventName = dirMeta.outputs[propName];\n      const /** @type {?} */ eventUsed = usedEvents.indexOf(eventName) > -1;\n      needsSubscribe = needsSubscribe || eventUsed;\n      eventFlags.push(o.literal(eventUsed));\n    });\n    hostProps.forEach((hostProp) => {\n      if (hostProp.isAnimation && usedEvents.length > 0) {\n        needsSubscribe = true;\n      }\n    });\n    if (needsSubscribe) {\n      return [\n        dirWrapper.callMethod('subscribe', [view, eventListener].concat(eventFlags)).toStmt()\n      ];\n    } else {\n      return [];\n    }\n  }\n/**\n * @param {?} hostEvents\n * @param {?} dirWrapper\n * @param {?} eventName\n * @param {?} event\n * @return {?}\n */\nstatic handleEvent(\n      hostEvents: BoundEventAst[], dirWrapper: o.Expression, eventName: o.Expression,\n      event: o.Expression): o.Expression {\n    return dirWrapper.callMethod('handleEvent', [eventName, event]);\n  }\n}\n"]}